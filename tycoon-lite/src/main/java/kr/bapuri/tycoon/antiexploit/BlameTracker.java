package kr.bapuri.tycoon.antiexploit;

import java.util.Optional;
import java.util.UUID;

/**
 * BlameTracker - 엔티티에 피해를 준 플레이어 추적
 * 
 * [SCAFFOLD] 나중에 구현 예정
 * - AntiFarmSystem에서 플레이어 기여 판정에 사용
 * - 엔티티별 피해 기록 저장 및 조회
 * 
 * 현재: stub 구현 (기능 없음)
 */
public class BlameTracker {

    /**
     * 엔티티에 대한 플레이어 피해 기록
     * 
     * TODO: 나중에 구현
     * - entityId -> List<DamageRecord> 저장
     * - DamageRecord: attackerUuid, damage, timestamp
     * 
     * @param entityId 피해받은 엔티티 UUID
     * @param attackerUuid 공격한 플레이어 UUID
     * @param damage 피해량
     */
    public void recordDamage(UUID entityId, UUID attackerUuid, double damage) {
        // stub - 나중에 구현
    }

    /**
     * 지정 시간 내 마지막으로 기여한 플레이어 조회
     * 
     * TODO: 나중에 구현
     * - windowMs 내 피해 기록 중 가장 최근 플레이어 반환
     * 
     * @param entityId 엔티티 UUID
     * @param windowMs 시간 윈도우 (밀리초)
     * @return 플레이어 UUID (없으면 empty)
     */
    public Optional<UUID> getLastContributor(UUID entityId, long windowMs) {
        return Optional.empty(); // stub
    }

    /**
     * 엔티티 제거 시 기록 정리
     * 
     * TODO: 나중에 구현
     * - 엔티티 사망/제거 시 호출
     * 
     * @param entityId 엔티티 UUID
     */
    public void clearEntity(UUID entityId) {
        // stub - 나중에 구현
    }

    /**
     * 전체 기록 정리 (shutdown 시)
     */
    public void shutdown() {
        // stub - 나중에 구현
    }
}
